<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hstar monad - GWiki</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;500&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="https://tikzjax.com/v1/fonts.css">
    <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        macros: {
        "cA": "\\mathcal{A}",
        "bbA": "\\mathbb{A}",
        "sfA": "\\mathsf{A}",
        "fA": "\\mathfrak{A}",
        "bA": "\\mathbf{A}",
        "sA": "\\mathscr{A}",
        "eA": "\\mathcal{A}",
        "cB": "\\mathcal{B}",
        "bbB": "\\mathbb{B}",
        "sfB": "\\mathsf{B}",
        "fB": "\\mathfrak{B}",
        "bB": "\\mathbf{B}",
        "sB": "\\mathscr{B}",
        "eB": "\\mathcal{B}",
        "cC": "\\mathcal{C}",
        "bbC": "\\mathbb{C}",
        "sfC": "\\mathsf{C}",
        "fC": "\\mathfrak{C}",
        "bC": "\\mathbf{C}",
        "sC": "\\mathscr{C}",
        "eC": "\\mathcal{C}",
        "cD": "\\mathcal{D}",
        "bbD": "\\mathbb{D}",
        "sfD": "\\mathsf{D}",
        "fD": "\\mathfrak{D}",
        "bD": "\\mathbf{D}",
        "sD": "\\mathscr{D}",
        "eD": "\\mathcal{D}",
        "cE": "\\mathcal{E}",
        "bbE": "\\mathbb{E}",
        "sfE": "\\mathsf{E}",
        "fE": "\\mathfrak{E}",
        "bE": "\\mathbf{E}",
        "sE": "\\mathscr{E}",
        "eE": "\\mathcal{E}",
        "cF": "\\mathcal{F}",
        "bbF": "\\mathbb{F}",
        "sfF": "\\mathsf{F}",
        "fF": "\\mathfrak{F}",
        "bF": "\\mathbf{F}",
        "sF": "\\mathscr{F}",
        "eF": "\\mathcal{F}",
        "cG": "\\mathcal{G}",
        "bbG": "\\mathbb{G}",
        "sfG": "\\mathsf{G}",
        "fG": "\\mathfrak{G}",
        "bG": "\\mathbf{G}",
        "sG": "\\mathscr{G}",
        "eG": "\\mathcal{G}",
        "cH": "\\mathcal{H}",
        "bbH": "\\mathbb{H}",
        "sfH": "\\mathsf{H}",
        "fH": "\\mathfrak{H}",
        "bH": "\\mathbf{H}",
        "sH": "\\mathscr{H}",
        "eH": "\\mathcal{H}",
        "cI": "\\mathcal{I}",
        "bbI": "\\mathbb{I}",
        "sfI": "\\mathsf{I}",
        "fI": "\\mathfrak{I}",
        "bI": "\\mathbf{I}",
        "sI": "\\mathscr{I}",
        "eI": "\\mathcal{I}",
        "cJ": "\\mathcal{J}",
        "bbJ": "\\mathbb{J}",
        "sfJ": "\\mathsf{J}",
        "fJ": "\\mathfrak{J}",
        "bJ": "\\mathbf{J}",
        "sJ": "\\mathscr{J}",
        "eJ": "\\mathcal{J}",
        "cK": "\\mathcal{K}",
        "bbK": "\\mathbb{K}",
        "sfK": "\\mathsf{K}",
        "fK": "\\mathfrak{K}",
        "bK": "\\mathbf{K}",
        "sK": "\\mathscr{K}",
        "eK": "\\mathcal{K}",
        "cL": "\\mathcal{L}",
        "bbL": "\\mathbb{L}",
        "sfL": "\\mathsf{L}",
        "fL": "\\mathfrak{L}",
        "bL": "\\mathbf{L}",
        "sL": "\\mathscr{L}",
        "eL": "\\mathcal{L}",
        "cM": "\\mathcal{M}",
        "bbM": "\\mathbb{M}",
        "sfM": "\\mathsf{M}",
        "fM": "\\mathfrak{M}",
        "bM": "\\mathbf{M}",
        "sM": "\\mathscr{M}",
        "eM": "\\mathcal{M}",
        "cN": "\\mathcal{N}",
        "bbN": "\\mathbb{N}",
        "sfN": "\\mathsf{N}",
        "fN": "\\mathfrak{N}",
        "bN": "\\mathbf{N}",
        "sN": "\\mathscr{N}",
        "eN": "\\mathcal{N}",
        "cO": "\\mathcal{O}",
        "bbO": "\\mathbb{O}",
        "sfO": "\\mathsf{O}",
        "fO": "\\mathfrak{O}",
        "bO": "\\mathbf{O}",
        "sO": "\\mathscr{O}",
        "eO": "\\mathcal{O}",
        "cP": "\\mathcal{P}",
        "bbP": "\\mathbb{P}",
        "sfP": "\\mathsf{P}",
        "fP": "\\mathfrak{P}",
        "bP": "\\mathbf{P}",
        "sP": "\\mathscr{P}",
        "eP": "\\mathcal{P}",
        "cQ": "\\mathcal{Q}",
        "bbQ": "\\mathbb{Q}",
        "sfQ": "\\mathsf{Q}",
        "fQ": "\\mathfrak{Q}",
        "bQ": "\\mathbf{Q}",
        "sQ": "\\mathscr{Q}",
        "eQ": "\\mathcal{Q}",
        "cR": "\\mathcal{R}",
        "bbR": "\\mathbb{R}",
        "sfR": "\\mathsf{R}",
        "fR": "\\mathfrak{R}",
        "bR": "\\mathbf{R}",
        "sR": "\\mathscr{R}",
        "eR": "\\mathcal{R}",
        "cS": "\\mathcal{S}",
        "bbS": "\\mathbb{S}",
        "sfS": "\\mathsf{S}",
        "fS": "\\mathfrak{S}",
        "bS": "\\mathbf{S}",
        "sS": "\\mathscr{S}",
        "eS": "\\mathcal{S}",
        "cT": "\\mathcal{T}",
        "bbT": "\\mathbb{T}",
        "sfT": "\\mathsf{T}",
        "fT": "\\mathfrak{T}",
        "bT": "\\mathbf{T}",
        "sT": "\\mathscr{T}",
        "eT": "\\mathcal{T}",
        "cU": "\\mathcal{U}",
        "bbU": "\\mathbb{U}",
        "sfU": "\\mathsf{U}",
        "fU": "\\mathfrak{U}",
        "bU": "\\mathbf{U}",
        "sU": "\\mathscr{U}",
        "eU": "\\mathcal{U}",
        "cV": "\\mathcal{V}",
        "bbV": "\\mathbb{V}",
        "sfV": "\\mathsf{V}",
        "fV": "\\mathfrak{V}",
        "bV": "\\mathbf{V}",
        "sV": "\\mathscr{V}",
        "eV": "\\mathcal{V}",
        "cW": "\\mathcal{W}",
        "bbW": "\\mathbb{W}",
        "sfW": "\\mathsf{W}",
        "fW": "\\mathfrak{W}",
        "bW": "\\mathbf{W}",
        "sW": "\\mathscr{W}",
        "eW": "\\mathcal{W}",
        "cX": "\\mathcal{X}",
        "bbX": "\\mathbb{X}",
        "sfX": "\\mathsf{X}",
        "fX": "\\mathfrak{X}",
        "bX": "\\mathbf{X}",
        "sX": "\\mathscr{X}",
        "eX": "\\mathcal{X}",
        "cY": "\\mathcal{Y}",
        "bbY": "\\mathbb{Y}",
        "sfY": "\\mathsf{Y}",
        "fY": "\\mathfrak{Y}",
        "bY": "\\mathbf{Y}",
        "sY": "\\mathscr{Y}",
        "eY": "\\mathcal{Y}",
        "cZ": "\\mathcal{Z}",
        "bbZ": "\\mathbb{Z}",
        "sfZ": "\\mathsf{Z}",
        "fZ": "\\mathfrak{Z}",
        "bZ": "\\mathbf{Z}",
        "sZ": "\\mathscr{Z}",
        "eZ": "\\mathcal{Z}",
        "fa": "\\mathfrak{a}",
        "fb": "\\mathfrak{b}",
        "fc": "\\mathfrak{c}",
        "fd": "\\mathfrak{d}",
        "fe": "\\mathfrak{e}",
        "ff": "\\mathfrak{f}",
        "fg": "\\mathfrak{g}",
        "fh": "\\mathfrak{h}",
        "fi": "\\mathfrak{i}",
        "fj": "\\mathfrak{j}",
        "fk": "\\mathfrak{k}",
        "fl": "\\mathfrak{l}",
        "fm": "\\mathfrak{m}",
        "fn": "\\mathfrak{n}",
        "fo": "\\mathfrak{o}",
        "fp": "\\mathfrak{p}",
        "fq": "\\mathfrak{q}",
        "fr": "\\mathfrak{r}",
        "fs": "\\mathfrak{s}",
        "ft": "\\mathfrak{t}",
        "fu": "\\mathfrak{u}",
        "fv": "\\mathfrak{v}",
        "fw": "\\mathfrak{w}",
        "fx": "\\mathfrak{x}",
        "fy": "\\mathfrak{y}",
        "fz": "\\mathfrak{z}",
        "bar": "\\overline",
        "undC": "\\underline{\\mathcal{C}}",
        "Obj": "\\operatorname{Obj}",
        "Hom": "\\operatorname{Hom}",
        "Mor": "\\operatorname{Mor}",
        "End": "\\operatorname{End}",
        "Aut": "\\operatorname{Aut}",
        "id": "\\mathrm{id}",
        "pt": "\\mathrm{pt}",
        "Tr": "\\operatorname{Tr}",
        "eval": "\\operatorname{eval}",
        "A": "\\operatorname{Sk}",
        "F": "\\mathcal{F}",
        "U": "\\mathcal{U}",
        "orev": "\\overline",
        "fcj": "\\widehat",
        "e": "\\varepsilon",
        "glu": "\\mathrm{gl}",
        "greyson": ["\\bgroup\\color{violet}[[#1]]\\egroup", 1],
        "todo": ["\\textbf{[[}\\textsl{#1}\\textbf{]]}", 1],
        "bkt": ["\\left\\langle #1 \\middle| #2 \\right\\rangle", 2],
        "pbkt": ["\\left( #1 \\middle| #2 \\right)", 2],
        "abs": ["\\left| #1 \\right|", 1],
        "norm": ["\\left\\| #1 \\right\\|", 1],
        "set": ["\\left\\{ #1 \\right\\}", 1],
        "bra": ["\\left\\langle #1 \\right|", 1],
        "ket": ["\\left| #1 \\right\\rangle", 1],
        "braket": ["\\left\\langle #1 \\right\\rangle", 1],
        "Set": "\\mathbf{Set}",
        "Grp": "\\mathbf{Grp}",
        "Top": "\\mathbf{Top}",
        "Vec": "\\mathbf{Vec}",
        "Hilb": "\\mathbf{Hilb}",
        "Sk": "\\operatorname{Sk}",
        "colim": "\\operatorname{colim}",
        "Ext": "\\operatorname{Ext}",
        "Tor": "\\operatorname{Tor}",
        "Spec": "\\operatorname{Spec}",
        "im": "\\operatorname{im}",
        "coker": "\\operatorname{coker}",
        "coloneqq": "\\mathrel{\\vcenter{:}}=",
        "coloneq": "\\mathrel{\\vcenter{:}}=",
        "eqqcolon": "=\\mathrel{\\vcenter{:}}",
        "endto": "\\to",
        "to": "\\rightarrow",
        "injto": "\\hookrightarrow",
        "surjto": "\\twoheadrightarrow",
        "longto": "\\longrightarrow",
        "lto": "\\longrightarrow",
        "mapsfrom": "\\mathrel{\\reflectbox{\\ensuremath{\\mapsto}}}",
        "Ising": "\\mathsf{Ising}",
        "a": "\\alpha",
        "b": "\\beta",
        "d": "\\delta",
        "g": "\\gamma",
        "bd": "\\partial",
        "tms": "\\times",
        "tsr": "\\otimes",
        "pr": "\\operatorname{pr}",
        "dM": "\\mathcal{M}",
        "dF": "\\mathcal{F}",
        "dA": "\\mathcal{A}",
        "dB": "\\mathcal{B}",
        "dC": "\\mathcal{C}",
        "dD": "\\mathcal{D}",
        "dE": "\\mathcal{E}",
        "dG": "\\mathcal{G}",
        "dH": "\\mathcal{H}",
        "dI": "\\mathcal{I}",
        "dJ": "\\mathcal{J}",
        "dK": "\\mathcal{K}",
        "dL": "\\mathcal{L}",
        "dN": "\\mathcal{N}",
        "dO": "\\mathcal{O}",
        "dP": "\\mathcal{P}",
        "dQ": "\\mathcal{Q}",
        "dR": "\\mathcal{R}",
        "dS": "\\mathcal{S}",
        "dT": "\\mathcal{T}",
        "dU": "\\mathcal{U}",
        "dV": "\\mathcal{V}",
        "dW": "\\mathcal{W}",
        "dX": "\\mathcal{X}",
        "dY": "\\mathcal{Y}",
        "dZ": "\\mathcal{Z}",
        "tld": "\\widetilde",
        "res": "\\operatorname{res}",
        "Eq": "\\operatorname{Eq}",
        "sst": "\\subset",
        "lact": "\\triangleright",
        "ract": "\\triangleleft",
        "op": "\\mathrm{op}",
        "lsjto": "\\longrightarrow\\!\\!\\!\\!\\!\\rightarrow"
        }
      },
      startup: {
        typeset: true
      }
    };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://tikzjax.com/v1/tikzjax.js"></script>
</head>
<body>
    <div class="top-nav">
        <div class="nav-left">
            <a href="../index.html" class="nav-link">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                <span>Index</span>
            </a>
        </div>
        <div class="nav-right">
            <a href="../pdfs/Hstar monad.pdf#page=1.00&gsr=0" class="nav-btn" title="View PDF" target="_blank">
                <span>PDF</span>
            </a>
            <a href="obsidian://open?path=/Users/greysonwesley/Desktop/workflow/wiki/Hstar monad.md" class="nav-btn" title="Edit in Obsidian">
                <span>MD</span>
            </a>
        </div>
    </div>
    <div class="content-wrapper">
    <h1>Hstar monad</h1>
    <div class="metadata">
        <strong>Last modified:</strong> December 13, 2025 at  4:26 PM ET<br>
        <strong>Created:</strong> December 09, 2025 at 12:00 AM ET<br>
    </div>
    <div class="content">
        
        <div class="env-box definition">
<p><strong>Definition.</strong> An <strong>$\mathrm{H}^*$-monad</strong> in a pre-3-Hilbert space $(\mathfrak{X},\vee,\Psi)$ consists of an object $a\in\fX$ and a 1-morphism ${}_aA_a\in \Omega_a$ equipped with an associative multiplication $\mu\colon {}_aA\otimes_aA_a\to {}_aA_a$ with unit $\iota\colon 1_a\to {}_aA_a$ satisfying the following axioms.</p>
<ul>
<li>($\rC^*$-Frobenius) $\mu^\dag$ is an $A$--$A$-bimodule map, i.e.,
<p>\[</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=0.3]

    \coordinate (O) at (0,0);
    \fill[regA] (O) rectangle ++(6,4);                  
    \draw[strA] (O) ++(1,0) -- ++(0,2)  
        \capto{1}                       
        \cupto{1} -- ++(0,2);           
    \draw[strA] (O) ++(2,4) -- ++(0,-1);                
    \draw[strA] (O) ++(4,0) -- ++(0,1);                 

\end{tikzpicture}</script>
<p>=</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=0.3]

    \coordinate (O) at (0,0);
    \fill[regA] (O) rectangle ++(4,4);                  
    \draw[strA] (O) ++(1,4) \cupto{1};                  
    \draw[strA] (O) ++(1,0) \capto{1};                  
    \draw[strA] (O) ++(2,1) -- ++(0,2); 

\end{tikzpicture}</script>
<p>=</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=0.3, xscale=-1]
                        
    \coordinate (O) at (0,0);
    \fill[regA] (O) rectangle ++(6,4);                  
    \draw[strA] (O) ++(1,0) -- ++(0,2)  \capto{1} \cupto{1} -- ++(0,2);
    \draw[strA] (O) ++(2,4) -- ++(0,-1);
    \draw[strA] (O) ++(4,0) -- ++(0,1);

\end{tikzpicture}</script>
<p>\qquad\quad\text{where}\quad\quad</p>
a=<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=.7]

    \coordinate(O) at (0,0); 
    \fill\href{O}{regA} rectangle ++(1,1);   

\end{tikzpicture}</script>,
<p>\quad</p>
A=<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=.7]

    \coordinate(O) at (0,0); 
    \fill\href{O}{regA} rectangle ++(1,1);   
    \draw\href{O}{strA}++(0.5,0)--++(0,1);

\end{tikzpicture}</script>,
<p>\quad</p>
\mu=<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=.7]

    \coordinate(O) at (0,0); 
    \fill\href{O}{regA}++(-0.25,0) rectangle ++(1.5,1);       
    \draw\href{O}{strA}++(0.5,0.5)--++(0,0.5);                     
    \draw[strA] (O)++(1,0) \capfrom{0.5};                

\end{tikzpicture}</script>.
<p>\] \item<a id="H-Separable" class="latex-label"></a> (Separable) The endomorphism $\mu\mu^\dag$ of ${}_aA_a$ is invertible, i.e., \[</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=0.3]

    \coordinate (O) at (0,0);
    \fill[regA] (O) rectangle ++(4,4);                  
    \bubble[very thick,fill=colA!10, draw=colA]{(O)++(2,2)}{1};        
    \draw[strA] (O) ++(2,3) -- ++(0,1);                 
    \draw[strA] (O) ++(2,1) -- ++(0,-1);                

\end{tikzpicture}</script>
<p>\in \Aut_\fX(A). \] \item<a id="H-Standard" class="latex-label"></a> (Standard) For all endomorphisms $f \in \End_{\fX}({}_aA_a)$, \[ \Psi_a \left(</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=0.3]

    \coordinate (O) at (0,0);
    \fill[regA] (O) rectangle ++(5,6);                  
    \draw[strA] (O) ++(1.5,2) -- ++(0,2);                 
    \draw[strA] (O) ++(3.5,2) -- coordinate(f) ++(0,2);   
    \draw[strA] (O) ++(1.5,4) \capto{1};                  
    \draw[strA] (O) ++(2.5,5) -- ++(0,1);                 
    \draw[strA] (O) ++(3.5,2) \cupfrom{1};                 
    \draw[strA] (O) ++(2.5,1) -- ++(0,-1);                
    \cpn{(f)}{$f$}                                       

\end{tikzpicture}</script>
<p>\right) = \Psi_a \left(</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=0.3,xscale=-1]

    \coordinate (O) at (0,0);
    \fill[regA] (O) rectangle ++(5,6);                  
    \draw[strA] (O) ++(1.5,2) -- ++(0,2);                 
    \draw[strA] (O) ++(3.5,2) -- coordinate(f) ++(0,2);
    \draw[strA] (O) ++(1.5,4) \capto{1};
    \draw[strA] (O) ++(2.5,5) -- ++(0,1);
    \draw[strA] (O) ++(3.5,2) \cupfrom{1};
    \draw[strA] (O) ++(2.5,1) -- ++(0,-1);
    \cpn{(f)}{$f$}

\end{tikzpicture}</script>
<p>\right). \]</li></p>
</ul>
<p>An $\rH^*$-monad is <strong>trivial</strong> when it has the form $A=1_a$, $m\colon 1_a\otimes_a 1_a\to 1_a$ is the unitor, and $i\colon 1_a\to 1_a$ is the identity.</p>
</div>

<div class="env-box definition">
<p><strong>Definition.</strong> A <strong>splitting</strong> of an $\rH^*$-monad $({}_aA_a,\mu,\iota)$ in $\fX$ is a pair $({}_aX_b,\gamma)$ consisting of a 1-morphism ${}_aX_b\in\fX(a\to b)$ such that $\ev_X\ev_X^\dag \in \End_\fX(1_b)$ is invertible and a unitary monad isomorphism $\gamma\colon {}_aA_a\Rightarrow {}_aX\otimes_b X^\vee_a$.</p>
</div>

<p>Diagrammatically, if we write \[</p>
b=<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=.7]

    \coordinate(O) at (0,0); 
    \fill\href{O}{regB, rounded corners=5pt}rectangle ++(1,1); 

\end{tikzpicture}</script>,
<p>\qquad\qquad</p>
X=<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=.7]

    \coordinate(O) at (0,0); 
    \clip\href{O}{rounded corners}rectangle ++(1,1);
    \fill\href{O}{regA}rectangle ++(1,1);                    
    \fill\href{O}{regB}++(0.5,0)rectangle ++(0.5,1);              
    \draw\href{O}{strC}++(0.5,0)--++(0,1);                       

\end{tikzpicture}</script>,
<p>\qquad\qquad</p>
\gamma=<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=.7,yscale=-1]

    \coordinate(O) at (0,0); 
    \fill\href{O}{regA}++(-0.25,0)rectangle ++(1.5,1);         
    \draw\href{O}{strA}++(0.5,0.5)--++(0,0.5);
    \fill\href{O}{regB}++(1,0) \capfrom{0.5} --cycle;
    \draw[strC] (O)++(1,0) \capfrom{0.5};

\end{tikzpicture}</script>,
<p>\] then to say $(X,\gamma)$ splits $(A,\mu,\iota)$ means that \[</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=0.4]

    \coordinate (O) at (0,0);
    \fill[regB, rounded corners=5pt] (O) rectangle ++(3,3); 
    \bubble[very thick,fill=colA!10, draw=colC]{(O)++(1.5,1.5)}{0.8};              

\end{tikzpicture}</script>
<p>\in (\Omega^2_b)^\times \] and that $\gamma$ satisfies \[</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=0.4]

    \coordinate (O) at (0,0);
    \fill[regA] (O) rectangle ++(3,4);                  
    \draw[strA] (O) ++(1.5,0) -- ++(0,1);                 
    \draw[strA] (O) ++(1.5,3) -- ++(0,1);                 
    \bubble[very thick,fill=colB!15, draw=colC]{(O)++(1.5,2)}{1};        

\end{tikzpicture}</script>
<p>=</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=0.4]

    \coordinate (O) at (0,0);
    \fill[regA] (O) rectangle ++(2,4);                  
    \draw[strA] (O) ++(1,0) -- ++(0,4);                  

\end{tikzpicture}</script>,
<p>\qquad\qquad</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=0.4]

    \coordinate (O) at (0,0);
    \fill[regA] (O) rectangle ++(4,4);                  
    \fill[regB] (O) ++(1,4) \cupto{1} -- cycle;        
    \fill[regB] (O) ++(1,0) \capto{1} -- cycle;        
    \draw[strA] (O) ++(2,1)--++(0,2);                 
    \draw[strC] (O) ++(1,4) \cupto{1};                  
    \draw[strC] (O) ++(1,0) \capto{1};                  

\end{tikzpicture}</script>
<p>=</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=0.4]

    \coordinate (O) at (0,0);
    \fill[regA] (O) rectangle ++(4,4);                  
    \fill[regB] (O) ++(1.2,0) rectangle ++(1.6,4);        
    \draw[strC] (O) ++(1.2,0) -- ++(0,4);                  
    \draw[strC] (O) ++(2.8,0) -- ++(0,4);                  

\end{tikzpicture}</script>,
<p>\qquad\text{and}\qquad</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=0.4]

    \coordinate (O) at (0,0);
    \fill[regA] (O) rectangle ++(4,4);                  
    \fill[regB] (O) ++(1,4) \cupto{1} --cycle;         
    \draw[strA] (O) ++(1,0) \capto{1};                  
    \draw[strA] (O) ++(2,1)--++(0,2);                 
    \draw[strC] (O) ++(1,4) \cupto{1};                  

\end{tikzpicture}</script>
<p>=</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\newcommand{\bd}{\partial}
\newcommand{\tms}{\times}
\newcommand{\tsr}{\otimes}
\newcommand{\orev}{\overline}
\newcommand{\F}{\mathcal{F}}

\begin{tikzpicture}[scale=0.325]

    \coordinate (O) at (0,0);
    \fill[regA] (O) rectangle ++(6,5);                  
    
    
    \fill[regB] (O) ++(1.8,5)
        to[-s] ++(-1, -3.2)                               
        \cupto{0.7}                                         
        -- ++(0, 0.2) \capto{0.8} -- ++(0, -0.2) \cupto{0.7}                     
        to[s] ++(-1, 3.2)
        -- cycle;
    
    
    \draw[strA] (O) ++(1.5,0) -- ++(0,1.1); 
    \draw[strA] (O) ++(4.5,0) -- ++(0,1.1);
    \draw[strC] (O) ++(1.8,5) to[-s] ++(-1, -3.2) \cupto{0.7} -- ++(0,0.2);
    \draw[strC] (O) ++(4.2,5) to[-s] ++(1, -3.2) \cupfrom{0.7} -- ++(0,0.2);
    \draw[strC] (O) ++(2.2,2.0) \capto{0.8};                 

\end{tikzpicture}</script>
<p>. \]</p>

<h3 id="h-monad-completion-of-pre-3-hilbert-spaces">$\mathrm{H}^*$-monad completion of pre-3-Hilbert spaces</h3>
<p>Given a pre-3-Hilbert space $\fX$, define the <strong>$\mathrm{H}^*$-monad completion</strong> of $\fX$ by the pre-3-Hilbert space $\mathsf{H^*Alg}(\fX)$ whose</p>

<ul>
<li>objects are $\mathrm{H}^*$-monads in $X$,</li>
<li>1-morphisms are $\mathrm{H}^*$-bimodules, and</li>
<li>2-morphisms are intertwiners,</li>
<li>UAF is <span style="color: #7f00ff;">[[todo]]</span>,</li>
<li>spherical trace is <span style="color: #7f00ff;">[[todo]]</span></li>
</ul>


<div class="see-also"><strong>See also:</strong> <a href="spectrum (Banach algebra).html">spectrum (Banach algebra)</a></div>
    </div>
    </div>
</body>
</html>
