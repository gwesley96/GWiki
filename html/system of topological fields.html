<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>system of topological fields - GWiki</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;500&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="https://tikzjax.com/v1/fonts.css">
    <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        macros: {
        "cA": "\\mathcal{A}",
        "bbA": "\\mathbb{A}",
        "sfA": "\\mathsf{A}",
        "fA": "\\mathfrak{A}",
        "bA": "\\mathbf{A}",
        "sA": "\\mathscr{A}",
        "eA": "\\mathcal{A}",
        "cB": "\\mathcal{B}",
        "bbB": "\\mathbb{B}",
        "sfB": "\\mathsf{B}",
        "fB": "\\mathfrak{B}",
        "bB": "\\mathbf{B}",
        "sB": "\\mathscr{B}",
        "eB": "\\mathcal{B}",
        "cC": "\\mathcal{C}",
        "bbC": "\\mathbb{C}",
        "sfC": "\\mathsf{C}",
        "fC": "\\mathfrak{C}",
        "bC": "\\mathbf{C}",
        "sC": "\\mathscr{C}",
        "eC": "\\mathcal{C}",
        "cD": "\\mathcal{D}",
        "bbD": "\\mathbb{D}",
        "sfD": "\\mathsf{D}",
        "fD": "\\mathfrak{D}",
        "bD": "\\mathbf{D}",
        "sD": "\\mathscr{D}",
        "eD": "\\mathcal{D}",
        "cE": "\\mathcal{E}",
        "bbE": "\\mathbb{E}",
        "sfE": "\\mathsf{E}",
        "fE": "\\mathfrak{E}",
        "bE": "\\mathbf{E}",
        "sE": "\\mathscr{E}",
        "eE": "\\mathcal{E}",
        "cF": "\\mathcal{F}",
        "bbF": "\\mathbb{F}",
        "sfF": "\\mathsf{F}",
        "fF": "\\mathfrak{F}",
        "bF": "\\mathbf{F}",
        "sF": "\\mathscr{F}",
        "eF": "\\mathcal{F}",
        "cG": "\\mathcal{G}",
        "bbG": "\\mathbb{G}",
        "sfG": "\\mathsf{G}",
        "fG": "\\mathfrak{G}",
        "bG": "\\mathbf{G}",
        "sG": "\\mathscr{G}",
        "eG": "\\mathcal{G}",
        "cH": "\\mathcal{H}",
        "bbH": "\\mathbb{H}",
        "sfH": "\\mathsf{H}",
        "fH": "\\mathfrak{H}",
        "bH": "\\mathbf{H}",
        "sH": "\\mathscr{H}",
        "eH": "\\mathcal{H}",
        "cI": "\\mathcal{I}",
        "bbI": "\\mathbb{I}",
        "sfI": "\\mathsf{I}",
        "fI": "\\mathfrak{I}",
        "bI": "\\mathbf{I}",
        "sI": "\\mathscr{I}",
        "eI": "\\mathcal{I}",
        "cJ": "\\mathcal{J}",
        "bbJ": "\\mathbb{J}",
        "sfJ": "\\mathsf{J}",
        "fJ": "\\mathfrak{J}",
        "bJ": "\\mathbf{J}",
        "sJ": "\\mathscr{J}",
        "eJ": "\\mathcal{J}",
        "cK": "\\mathcal{K}",
        "bbK": "\\mathbb{K}",
        "sfK": "\\mathsf{K}",
        "fK": "\\mathfrak{K}",
        "bK": "\\mathbf{K}",
        "sK": "\\mathscr{K}",
        "eK": "\\mathcal{K}",
        "cL": "\\mathcal{L}",
        "bbL": "\\mathbb{L}",
        "sfL": "\\mathsf{L}",
        "fL": "\\mathfrak{L}",
        "bL": "\\mathbf{L}",
        "sL": "\\mathscr{L}",
        "eL": "\\mathcal{L}",
        "cM": "\\mathcal{M}",
        "bbM": "\\mathbb{M}",
        "sfM": "\\mathsf{M}",
        "fM": "\\mathfrak{M}",
        "bM": "\\mathbf{M}",
        "sM": "\\mathscr{M}",
        "eM": "\\mathcal{M}",
        "cN": "\\mathcal{N}",
        "bbN": "\\mathbb{N}",
        "sfN": "\\mathsf{N}",
        "fN": "\\mathfrak{N}",
        "bN": "\\mathbf{N}",
        "sN": "\\mathscr{N}",
        "eN": "\\mathcal{N}",
        "cO": "\\mathcal{O}",
        "bbO": "\\mathbb{O}",
        "sfO": "\\mathsf{O}",
        "fO": "\\mathfrak{O}",
        "bO": "\\mathbf{O}",
        "sO": "\\mathscr{O}",
        "eO": "\\mathcal{O}",
        "cP": "\\mathcal{P}",
        "bbP": "\\mathbb{P}",
        "sfP": "\\mathsf{P}",
        "fP": "\\mathfrak{P}",
        "bP": "\\mathbf{P}",
        "sP": "\\mathscr{P}",
        "eP": "\\mathcal{P}",
        "cQ": "\\mathcal{Q}",
        "bbQ": "\\mathbb{Q}",
        "sfQ": "\\mathsf{Q}",
        "fQ": "\\mathfrak{Q}",
        "bQ": "\\mathbf{Q}",
        "sQ": "\\mathscr{Q}",
        "eQ": "\\mathcal{Q}",
        "cR": "\\mathcal{R}",
        "bbR": "\\mathbb{R}",
        "sfR": "\\mathsf{R}",
        "fR": "\\mathfrak{R}",
        "bR": "\\mathbf{R}",
        "sR": "\\mathscr{R}",
        "eR": "\\mathcal{R}",
        "cS": "\\mathcal{S}",
        "bbS": "\\mathbb{S}",
        "sfS": "\\mathsf{S}",
        "fS": "\\mathfrak{S}",
        "bS": "\\mathbf{S}",
        "sS": "\\mathscr{S}",
        "eS": "\\mathcal{S}",
        "cT": "\\mathcal{T}",
        "bbT": "\\mathbb{T}",
        "sfT": "\\mathsf{T}",
        "fT": "\\mathfrak{T}",
        "bT": "\\mathbf{T}",
        "sT": "\\mathscr{T}",
        "eT": "\\mathcal{T}",
        "cU": "\\mathcal{U}",
        "bbU": "\\mathbb{U}",
        "sfU": "\\mathsf{U}",
        "fU": "\\mathfrak{U}",
        "bU": "\\mathbf{U}",
        "sU": "\\mathscr{U}",
        "eU": "\\mathcal{U}",
        "cV": "\\mathcal{V}",
        "bbV": "\\mathbb{V}",
        "sfV": "\\mathsf{V}",
        "fV": "\\mathfrak{V}",
        "bV": "\\mathbf{V}",
        "sV": "\\mathscr{V}",
        "eV": "\\mathcal{V}",
        "cW": "\\mathcal{W}",
        "bbW": "\\mathbb{W}",
        "sfW": "\\mathsf{W}",
        "fW": "\\mathfrak{W}",
        "bW": "\\mathbf{W}",
        "sW": "\\mathscr{W}",
        "eW": "\\mathcal{W}",
        "cX": "\\mathcal{X}",
        "bbX": "\\mathbb{X}",
        "sfX": "\\mathsf{X}",
        "fX": "\\mathfrak{X}",
        "bX": "\\mathbf{X}",
        "sX": "\\mathscr{X}",
        "eX": "\\mathcal{X}",
        "cY": "\\mathcal{Y}",
        "bbY": "\\mathbb{Y}",
        "sfY": "\\mathsf{Y}",
        "fY": "\\mathfrak{Y}",
        "bY": "\\mathbf{Y}",
        "sY": "\\mathscr{Y}",
        "eY": "\\mathcal{Y}",
        "cZ": "\\mathcal{Z}",
        "bbZ": "\\mathbb{Z}",
        "sfZ": "\\mathsf{Z}",
        "fZ": "\\mathfrak{Z}",
        "bZ": "\\mathbf{Z}",
        "sZ": "\\mathscr{Z}",
        "eZ": "\\mathcal{Z}",
        "fa": "\\mathfrak{a}",
        "fb": "\\mathfrak{b}",
        "fc": "\\mathfrak{c}",
        "fd": "\\mathfrak{d}",
        "fe": "\\mathfrak{e}",
        "ff": "\\mathfrak{f}",
        "fg": "\\mathfrak{g}",
        "fh": "\\mathfrak{h}",
        "fi": "\\mathfrak{i}",
        "fj": "\\mathfrak{j}",
        "fk": "\\mathfrak{k}",
        "fl": "\\mathfrak{l}",
        "fm": "\\mathfrak{m}",
        "fn": "\\mathfrak{n}",
        "fo": "\\mathfrak{o}",
        "fp": "\\mathfrak{p}",
        "fq": "\\mathfrak{q}",
        "fr": "\\mathfrak{r}",
        "fs": "\\mathfrak{s}",
        "ft": "\\mathfrak{t}",
        "fu": "\\mathfrak{u}",
        "fv": "\\mathfrak{v}",
        "fw": "\\mathfrak{w}",
        "fx": "\\mathfrak{x}",
        "fy": "\\mathfrak{y}",
        "fz": "\\mathfrak{z}",
        "bar": "\\overline",
        "undC": "\\smash[b]{\\text{$\\underset{\\smash{\\raisebox{.275em}{$\\scriptstyle\\kern.1ex\\rightarrow$}}}{\\smash{\\cC}}$}}",
        "Obj": "\\operatorname{Obj}",
        "Hom": "\\operatorname{Hom}",
        "Mor": "\\operatorname{Mor}",
        "End": "\\operatorname{End}",
        "Aut": "\\operatorname{Aut}",
        "id": "\\mathrm{id}",
        "pt": "\\mathrm{pt}",
        "Tr": "\\operatorname{Tr}",
        "eval": "\\operatorname{eval}",
        "A": "\\mathrm{Sk}",
        "F": "\\eF",
        "U": "\\eU",
        "orev": "\\overline",
        "fcj": "\\widehat",
        "e": "\\varepsilon",
        "glu": "\\mathrm{gl}",
        "greyson": "\\bgroup\\color{violet}[[#1]]\\egroup",
        "todo": "\\textbf{[[}\\textsl{#1}\\textbf{]]}",
        "bkt": "\\left\\langle #1 \\middle| #2 \\right\\rangle",
        "pbkt": "\\left( #1 \\middle| #2 \\right)",
        "abs": "\\left| #1 \\right|",
        "norm": "\\left\\| #1 \\right\\|",
        "set": "\\left\\{ #1 \\right\\}",
        "bra": "\\left\\langle #1 \\right|",
        "ket": "\\left| #1 \\right\\rangle",
        "braket": "\\left\\langle #1 \\middle| #2 \\right\\rangle",
        "Set": "\\mathbf{Set}",
        "Grp": "\\mathbf{Grp}",
        "Top": "\\mathbf{Top}",
        "Vec": "\\mathbf{Vec}",
        "Hilb": "\\mathbf{Hilb}",
        "Sk": "\\operatorname{Sk}",
        "colim": "\\operatorname{colim}",
        "Ext": "\\operatorname{Ext}",
        "Tor": "\\operatorname{Tor}",
        "Spec": "\\operatorname{Spec}",
        "im": "\\operatorname{im}",
        "coker": "\\operatorname{coker}",
        "coloneqq": "\\mathrel{\\vcenter{:}}=",
        "coloneq": "\\mathrel{\\vcenter{:}}=",
        "eqqcolon": "=\\mathrel{\\vcenter{:}}",
        "endto": "\\to",
        "to": "\\rightarrow",
        "injto": "\\hookrightarrow",
        "surjto": "\\twoheadrightarrow",
        "longto": "\\longrightarrow",
        "lto": "\\longrightarrow",
        "mapsfrom": "\\mathrel{\\reflectbox{\\ensuremath{\\mapsto}}}",
        "Ising": "\\mathsf{Ising}",
        "a": "\\alpha",
        "b": "\\beta",
        "d": "\\delta",
        "g": "\\gamma",
        "Z": "Z",
        "M": "\\dM"
        }
      },
      startup: {
        typeset: true
      }
    };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://tikzjax.com/v1/tikzjax.js"></script>
</head>
<body>
    <div class="top-nav">
        <div class="nav-left">
            <a href="../index.html" class="nav-link">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                <span>Index</span>
            </a>
        </div>
        <div class="nav-right">
            <a href="../pdfs/system of topological fields.pdf" class="nav-btn" title="View PDF">
                <span>PDF</span>
            </a>
            <a href="file:///Users/greysonwesley/Desktop/workflow/wiki/system of topological fields.md" class="nav-btn" title="Edit in Obsidian">
                <span>MD</span>
            </a>
        </div>
    </div>
    <div class="content-wrapper">
    <h1>system of topological fields</h1>
    <div class="metadata">
        <strong>Last modified:</strong> December 12, 2025 at  6:46 PM ET<br>
        <strong>Created:</strong> October 24, 2025 at  7:04 PM ET<br>
        <strong>Tags:</strong> disk-like framework
    </div>
    <div class="content">
        
        <h2 id="systems-of-topological-fields">Systems of topological fields</h2>
<h3 id="system-of-fields-data">System of fields: Data</h3>
<p>An <strong>$n$-dimensional system of topological fields</strong> $\F$ (enriched in $\Vec$) consists of the following data.</p>
<ul>
<li><a id="Ffields" class="latex-label"></a>

<p>(<em>Fields</em>) Symmetric monoidal functors $\F_k\colon(\cM_k,\amalg)\to (\Set,\tms)$ for $0\leq k\leq n-1$ and $\F_n\colon (\cM_n,\amalg)\to(\Vec,\otimes_{\bbC})$, which by abuse of notation we often write as $\F$.</li></p>
<li><a id="Fboundary-restrictions" class="latex-label"></a>

<p>(<em>Boundary restrictions</em>) For each $1\leq k\leq n$, a symmetric monoidal natural transformation $\bd_k\colon \F_{k}\Rightarrow \F_{k-1}\circ\bd$, which by abuse of notation we often write as $\bd$.<sup id="fnref-auto-1"><a href="#fn-auto-1">[1]</a></sup></li></p>
<li><a id="Fconjugation" class="latex-label"></a>

<p>(<em>$H$-reversal</em>) For $0\leq k\leq n$, $X\in\cM_k$, and $c\in\F(\bd X)$,</p>

<p>a symmetric monoidal natural isomorphism $\bar{\;\cdot\;}\colon\bar{\F(X)}\to \F(\bar X)$, where $\bar{\F(X)}$ is the complex conjugate vector space when $k=n$ and $\bar{\F(X)}=\F(X)$ when $k&lt;n$.</li></p>
<li><a id="Fproduct-fields" class="latex-label"></a>

<p>(<em>Product fields</em>) For $1\leq k\leq n$ and $Y\in \cM_k$, a symmetric monoidal natural transformation $\F_{k-1} \Rightarrow \F_k(-\tms I)$, denoted $c\mpto c\tms I$.</li></p>
<li><a id="Fglue-without-corners" class="latex-label"></a>

<p>(<em>Gluing without corners</em>) For each $1\leq k\leq n$ and $X\in\cM_k$ with $\bd X = \bar S \amalg S \amalg W$ for closed $(k-1)$-manifolds $S$ and $Q$, if $\res_{\bar S}$ and $\res_{S}$ denote the restriction maps</p>

<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\begin{tikzcd}[ampersand replacement=\&,cramped,column sep=scriptsize,row sep=small]
	{\F(X)} \& {\F(\bar S\amalg S\amalg W)} \& {\F(\bar S)\tms \F(S)\tms \F(W)} \&\& {\F(S)} \\
	\&\&\& {\F(\bar S)}
	\arrow["\bd", from=1-1, to=1-2]
	\arrow["\cong", from=1-2, to=1-3]
	\arrow["{\pr_2}", from=1-3, to=1-5]
	\arrow["{\pr_1}"', from=1-3, to=2-4]
	\arrow["{\bar{\;\cdot\;}}"', from=2-4, to=1-5]
\end{tikzcd}</script>
<p>(where ‘$\tms$’ is replaced with $\tsr_{\bbC}$ if $k=n$) corresponding to $\bar S$ and $S$ in $\bd X$ respectively, and $\mathrm{Eq}_S(\F(X))$ denotes the equalizer of these two maps, then there is a “gluing” map \[ \glu_S\colon \mathrm{Eq}_S(\F(X)) \to \F(X_{\glu}) \] where $X_{\glu}$ denotes $X$ glued to itself along the $\bar S$ and $S$; see <a href="#fig-gluing-without-corners" class="latex-ref">fig:gluing-without-corners</a>. We say that fields on $X_{\glu}$ in the image of the gluing map are <strong>transverse to</strong> (or <strong>splittable along</strong>) $S$. \begin{figure}[!ht]</p>

<p>\[</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\begin{tikzpicture}[scale=1.7,yscale=.7,thick,boundary/.style={red}]


\def\ysep{0.4}
\def\xlabel{1.4}
\def\ylabel{0.85}
\def\rotatebd{.285}
\def\rightfrombd{.25}
\def\downfrombd{.1}
\def\circlerad{0.65}
\def\leftovercirclerad{0.75}
\def\leftovercirclesep{-0.25}

\node (X1) at (\xlabel,\ylabel) {$X$};


\node[boundary] (Y1) at (0,\ysep)(\xlabel,-1.1*\ylabel) {$Y$};
\node[boundary] (Y2) at (0,-\ysep) {$\orev Y$};
\node[boundary] (W) at (4*\circlerad+\leftovercirclesep,0) {$Q$};

\begin{scope}[shift={(4*\circlerad+\leftovercirclesep,0)},rotate=90] 
\draw[boundary] (0,0) ellipse ({\leftovercirclerad} and {\leftovercirclerad*\rotatebd});
\coordinate (leftoverstart) at (-\leftovercirclerad,0);
\coordinate (leftoverend) at (\leftovercirclerad,0);
\end{scope}


\begin{scope}[shift={(0,-\ysep)}]
\path (\circlerad*1,0)coordinate(start) arc(0:-180:\circlerad)coordinate(end);

\draw[boundary] (0,0) ellipse ({\circlerad} and {\circlerad*\rotatebd});

\draw (start)to[out=-90,in=180]++(\rightfrombd,-\downfrombd) to[out=0,in=-90]++(\rightfrombd,\ysep+\downfrombd);

\path (\circlerad,0)coordinate(end) arc(0:-180:\circlerad)coordinate(end);

\draw (end) 
    to[out=-90,in=180] ++(2*\circlerad+2*\rightfrombd,-3*\leftovercirclerad*\ysep)
    to[out=0,in=180](leftoverstart);
\end{scope}


\begin{scope}[shift={(0,\ysep)},yscale=-1]
\path (\circlerad*1,0)coordinate(start) arc(0:-180:\circlerad)coordinate(end);

\draw[boundary] (0,0) ellipse ({\circlerad} and {\circlerad*\rotatebd});

\draw (start)to[out=-90,in=180]++(\rightfrombd,-\downfrombd) to[out=0,in=-90]++(\rightfrombd,\ysep+\downfrombd);

\path (\circlerad,0)coordinate(end) arc(0:-180:\circlerad)coordinate(end);

\draw (end) 
    to[out=-90,in=180] ++(2*\circlerad+2*\rightfrombd,-3*\leftovercirclerad*\ysep)
    to[out=0,in=180](leftoverend);
\end{scope}

\end{tikzpicture}</script>
<p>\qquad\longrightarrow\qquad</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\begin{tikzpicture}[scale=1.9,yscale=1.25,thick,boundary/.style={red},yscale=1.1]


\def\ysep{0}
\def\xlabel{1.5}
\def\ylabel{0.3}
\def\rotatebd{.225}
\def\rightfrombd{.4}
\def\downfrombd{.13}
\def\circlerad{0.5}
\def\leftovercirclerad{0.4}
\def\leftovercirclesep{0}

\node (X1) at (\xlabel,\ylabel) {$X_{\glu}$};
\node[boundary] (W) at (4*\circlerad+\leftovercirclesep,0) {$Q$};
\begin{scope}[shift={(4*\circlerad+\leftovercirclesep,0)},rotate=90] 
\draw[boundary] (0,0) ellipse ({\leftovercirclerad} and {\leftovercirclerad*\rotatebd*2});
\coordinate (leftoverstart) at (-\leftovercirclerad,0);
\coordinate (leftoverend) at (\leftovercirclerad,0);
\end{scope}

\begin{scope}[shift={(0,-\ysep)}]
\path (\circlerad*1,0)coordinate(start) arc(0:-180:\circlerad)coordinate(end);

\draw[dashed,thin] (0,0) ellipse ({\circlerad} and {\circlerad*\rotatebd*.5});

\draw (start)to[out=-90,in=180,looseness=1.15]++(\rightfrombd,-\downfrombd) to[out=0,in=-90,looseness=1.15]++(\rightfrombd,\downfrombd);

\path (\circlerad,0)coordinate(end) arc(0:-180:\circlerad)coordinate(end);

\draw (end) 
    to[out=-90,in=180] ++(2*\circlerad+2*\rightfrombd,-3*\leftovercirclerad*0.4)
    to[out=0,in=180](leftoverstart);
\end{scope}


\begin{scope}[shift={(0,\ysep)},yscale=-1]
\path (\circlerad*1,0)coordinate(start) arc(0:-180:\circlerad)coordinate(end);

\draw (start)to[out=-90,in=180,looseness=1.15]++(\rightfrombd,-\downfrombd) to[out=0,in=-90,looseness=1.15]++(\rightfrombd,\downfrombd);

\path (\circlerad,0)coordinate(end) arc(0:-180:\circlerad)coordinate(end);

\draw (end) 
    to[out=-90,in=180] ++(2*\circlerad+2*\rightfrombd,-3*\leftovercirclerad*0.4)
    to[out=0,in=180](leftoverend);
\end{scope}

\end{tikzpicture}</script>
<p>\] \caption{Illustration of gluing without corners with $n=2$.} <a id="fig-gluing-without-corners" class="latex-label"></a> \end{figure}</li></p>
<li><a id="Fglue-with-corners" class="latex-label"></a>

<p>(<em>Gluing with corners</em>) <span style="color: #7f00ff;">[[todo: replace $W$ with $Q$ (for later)]]</span> Let $X\in\cM_k$ for $2\leq k\leq n$. Let $\bd X = (\bar Y \amalg Y) \cup Q$, where $\bar Y$ and $Y$ are disjoint from each other and $\bd(\bar Y \amalg Y) = \bd Q$, and let $X_{\glu}$ denote $X$ glued to itself (without corners) along $\bar Y$ and $Y$ as in <a href="#fig-gluing-with-corners" class="latex-ref">fig:gluing-with-corners</a>. Note that $\bd X_{\glu} = Q_{\glu}$, where $Q_{\glu}$ denotes $Q$ glued to itself (without corners) along $\bd Y$ and $\bd Y$. Let $c_{\glu} \in \F(Q_{\glu})$ be a splittable field on $Q_{\glu}$ and let $c \in \F(Q)$ be the cut-open version of $c_{\glu}$. Let $\F^c(X)$ denote the subset of $\F(X)$ that restricts to $c$ on $Q$.<sup id="fnref-auto-2"><a href="#fn-auto-2">[2]</a></sup> Using the boundary restriction and gluing-without-corners map, we get two maps $\res^c_{\bar Y} \colon \F^c(X) \to \F(\bar Y)$  and $\res^c_Y \colon \F^c(X) \to \F(Y)\colon \F^c(X) \to \F(Y)$ corresponding to $\bar Y$ and $Y$ in $\bd X$ respectively. Let $\Eq^c_Y(\F(X))$ denote the equalizer of these two maps. Then there is a “gluing” map \[ \glu_Y^c\colon \mathrm{Eq}_Y^c(\F(X)) \to \F(X_{\glu}; c_{\glu}). \]</p>


<p>\begin{figure}[H]</p>

<p>\[</p>



<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\begin{tikzpicture}

\node{TODO};

\end{tikzpicture}</script>
<p>\] \caption{<span style="color: #7f00ff;">[[(from blob paper; todo: make own figure]]</span> We say that fields on $X_{\glu}$ with boundary $c_{\glu}$ in the image of the gluing map are <strong>splittable</strong> along $Y$ or <strong>transverse</strong> to $Y$.} <a id="fig-gluing-with-corners" class="latex-label"></a> \end{figure}</li></p>
</ul> 


<p>We use the gluing notation $x_{\glu} \coloneq  \glu(x) \in \F(X_{\glu})$ for $x \in \F(X)$. In the case that $X = X_1 \amalg X_2$ have $\bd X_1=\bd X_2$ and $a,b \in \F(X_i;x)$, we write $a \bullet_x b \coloneq  \glu_x(a \tsr b) \in \F(X_{\glu})$. When $x$ is understood, we often write these as $a\bullet b$ or $\glu(a\tsr b)$.</p>

<h3 id="system-of-fields-conditions">System of fields: Conditions</h3>
<p>The above data for an $n$-dimensional system of fields $\F$ enriched in $\Vec$ must satisfy the following conditions.</p>
<ul>
<li>The functors $\bar{\;\cdot\;}\colon \cM_k\to\cM_k$ from <a href="#Fconjugation" class="latex-ref">Fconjugation</a> commute with homeomorphisms and boundary restrictions.</li>
<li>The gluing-without-corners maps $\glu_Y\colon \mathrm{Eq}_Y(\F(X))\to\F(X_{\glu})$ from <a href="#Fglue-without-corners" class="latex-ref">Fglue-without-corners</a> are injective, surjective up to extended isotopy in $X_{\glu}$ (see <a href="#def-extended-isotopy" class="latex-ref">def:extended isotopy</a> below), and compatible with all of the above structure, i.e., with actions of homeomorphisms, boundary restrictions, and monoidal structure.</li>
<li>The gluing-with-corners maps $\glu_Y^c\colon \mathrm{Eq}_Y^c(\F(X))\to\F(X_{\glu};c_{\glu})$ from <a href="#Fglue-with-corners" class="latex-ref">Fglue-with-corners</a> are injective, surjective up to extended isotopy in $X_{\glu}$ as defined in <a href="#def-extended-isotopy" class="latex-ref">def:extended isotopy</a> below, and compatible with all of the above structure, i.e., with actions of homeomorphisms, boundary restrictions, and monoidal structure.</li>
<li>If $c$ is a field as in <a href="#Fproduct-fields" class="latex-ref">Fproduct-fields</a> and $\tld f\colon  Y \times I \to Y \times I$ is a fiber-preserving homeomorphism over a map $f\colon Y\to Y$, then $\tld f(c \times I) = f(c) \times I$.</li>
<li>(Splittings)
<p>Let $X\in\cM_k$ for $1\leq k\leq n$. Let $c \in \F_k(X)$ and let $Y \subset X$ be a properly embedded submanifold of $X$ of codimension 1. Then for most<sup id="fnref-auto-3"><a href="#fn-auto-3">[3]</a></sup> small perturbations of $Y$, $c$ splits along $Y$. See \cite[Axm. 6.1.11]{MW12} for the details.</p>
    
<p>In <a href="#String-diagrams-give-a-system-of-fields" class="latex-ref">String diagrams give a system of fields</a>, $c$ splits along $Y$ so long as $Y$ is in general position</p>
    
<p>with respect to the cell decomposition associated to $c$.)</li></p>
</ul>


<p>Let $X$ be an $n$-manifold and $Y \subset \bd X$ be a codimension-0 submanifold of $\bd X$. Let $X \cup (Y \times I)$ denote $X$ glued to $Y \times I$ along $\orev Y$ and $Y$. Extend the product structure on $Y \times I$ to a bicollar <span style="color: #7f00ff;">[[define bicollar?]]</span> neighborhood of $Y$ inside $X \cup (Y \times I)$. We call a homeomorphism \[ f\colon  X \cup (Y \times I) \to X \] a <strong>collaring homeomorphism</strong> if $f$ is the identity outside of the bicollar and $f$ preserves the fibers of the bicollar. The maps $\F(X) \to \F(X)$ that collar homeomorphisms induce via the functoriality and product field properties above are called <strong>collar maps</strong>. Let $X$ and $Y \subset \bd X$ be as above. Let $x \in \F(X)$ be a field on $X$ and such that $\bd x$ is splittable along $\bd Y$. Let $c$ be $x$ restricted to $Y$. Then we have the glued field $x \bullet (c \times I)$ on $X \cup (Y \times I)$. Let $f\colon  X \cup (Y \times I) \to X$ be a collaring homeomorphism. Then we call the map $x \mapsto f(x \bullet (c \times I))$ a <strong>collar map</strong>. (See <span style="color: #7f00ff;">[[make figure]]</span>.)</p>

<div class="env-box definition">
<p><strong>Definition.</strong> <a id="def-extended-isotopy" class="latex-label"></a> We call the equivalence relation generated by collar maps and homeomorphisms isotopic to the identity <strong>extended isotopy</strong>.</p>
</div>

<h3 id="local-relations">Local relations</h3>










<p>A choice of <em>local relations</em> for a system of fields $\F$ is a collection of subspaces $\U(D; c) \sst \F(D; c)$, for all $n$-manifolds $D$ that are homeomorphic to the standard $n$-disk and all $c \in \F(\bd D)$, satisfying the following properties.</p>
    <ul>
<li>\item<a id="U1" class="latex-label"></a> (Functoriality) $f(\U(D;\phi))=\U(D';f_*\phi)$ for all homeomorphisms $f\colon D \to D'$.
<p>\item<a id="U2" class="latex-label"></a> (Extended isotopy invariance is a local relation) If $x, y \in \F(D; c)$ and $x$ is extended-isotopic to $y$, then $x-y\in \U(D;c)$. \item<a id="U3" class="latex-label"></a> (Ideal under gluing) If $D'$ is an $n$-manifold contained in $D$ (and possibly intersecting $\bd D$)  that is homeomorphic to $D^n$, then fields $x \in \U(D')$ and $r \in \F(D\setminus D')$ satisfy $x \bullet r \in \U(D)$. \item<a id="U4" class="latex-label"></a> ($H$-reversal-preserving) <span style="color: #7f00ff;">[[todo: check this one]]</span></li></p>
</ul>
    










<h3 id="n-dimensional-tqfts">$(n+\e)$-dimensional TQFTs</h3> 

<p>An <strong>$(n+\varepsilon)$-dimensional TQFT</strong> $(\F,\U)$ is an $n$-dimensional $\Vec$-enriched system of fields and local relations.</p>

<p>Fix an $n$-manifold $X$ and a boundary condition $c\in\F(X)$. We define the <strong>skein module</strong> of $(X,c)$ associated to a system of fields and local relations $(\F,\U)$ by \[ \A(X,c)\coloneq \F(X,c)/\U(X,c) \] where $\U(X)$ is the subspace of $\F(X)$</p>

<p>generated by fields of the form $u\bullet r$ where $u\in\U(D)$ and $r\in\F(X\setminus D)$ for some embedded $D$ in $X$ homeomorphic to an $n$-disk. By a slight abuse of terminology, we will often refer to elements of $\A(X)$ again as fields. <span style="color: #7f00ff;">[[todo: completely rewrite this section...]]</span></p>


<p>We will often be more interested in the dual vector space of $\A(X)$, which we denote by $\Z(X)$. This is because the $\Z$-invariants often have nicer algebraic structure than the $\A$-invariants.</p>

<p>We will denote an $(n+\e)$-dimensional TQFT by a quadruple $(\F,\U)$, where $\A$ and $\Z$ are defined as above. When $W$ is closed, we simply write $Z(W)$ instead of $Z(W,\varnothing)$, and similarly for $\A(W)$.</p>

<p><span style="color: #7f00ff;">[[TODO: Explain notation $a,b,c$ after semicolons...]]</span></p>


<div class="env-box example">
<p><strong>Example ($(n+\e)$-dimensional TQFTs from traditional $n$-categories with strong duality).</strong> <a id="String-diagrams-give-a-system-of-fields" class="latex-label"></a> Here we focus on our running example of string diagrams on manifolds. Given a traditional $n$-category with strong duality $\cC$, we get an $(n+\e)$-dimensional TQFT $(\F,\U)$ by letting the fields be $\cC$-labeled string diagrams. That is,</p>

<p>for general $n$, a field on a $k$-manifold $X$ consists of</p>

<ul>
<li>a cell decomposition of $X$;</li>
<li>an general position homeomorphism from the link of each $j$-cell to the boundary of the standard $(k-j)$-dimensional bigon; and</li>
<li>a labeling of each $j$-cell by a $(k-j)$-dimensional morphism of $C$, whose domain and range are determined by the labelings of the link of the $j$-cell.</li>
</ul>

<p><a id="Local-relations-from-a-traditional--n--category-with-strong-duality" class="latex-label"></a> The local relations are given as follows. Given an $n$-manifold $D$ homeomorphic to $D^n$, we set $\U(D;c)$ equal to the kernel of the evaluation map $\ev\colon \F(D;c) \to \cC(c_s\to c_t)$, where $(c_s, c_t)$ is any choice of splitting of $c$ as $c=c_s\bullet c_t$ into source $c_s$ and target $c_t$, that sends a string diagram to the $j$-morphism in $\cC$ that it represents.</p>
</div>


<div class="env-box example">
<p><strong>Example (Annular categories and the tube algebra).</strong> See <a href="https://people.math.osu.edu/penneys.2/8800/Notes/Constructions.pdf">here</a>.</p>
</div>
<h3 id="gluing-theorems">Gluing theorems</h3>
<p>Fix an $(n+\varepsilon)$D TQFT $(\F,\U,z)$. For each $Y\in\M_{n-1}$, which we assume to be closed for simplicity of the notation, the hom profunctor $\A(Y)(-\to-)$ can be denoted by $\A(Y)^{y}{}_{y'}\coloneqq \A(Y)(y\to y')=\A(Y\times I,\overline{y}\amalg y')$ for $y,y'\in \cC(Y)$. Identifying $\A(\overline{Y})$ with $\A(Y)^{\mathrm{op}}$ via the equivalence established to obtain a dagger on $\A(Y)$, we see that $\A(\overline{Y})^{y}{}_{y'}=\A(Y)^{y'}{}_{y}$. For an $n$-manifold $X$ with $\partial X=\overline{S}\amalg T$, where again for simplicity we assume $S$ and $T$ are closed, we get a profunctor/bimodule $A_X\colon \A(T)^\op\times \A(S)\to \Vec$ given by \[ \begin{aligned} A_X\coloneqq  \A(X;\overline{\,\text{-}\,},\text{-})\colon \A(T)^{\mathrm{op}}\times \A(S)&\to\Vec, \\ (t,s)&\mapsto (A_X)^t{}_s\coloneqq \A(X;\overline{s},t), \\ (f\colon t\to t',g\colon s'\to s)&\mapsto (A_X)^f{}_e\colon (A_X)^t{}_s\to (A_X)^{t'}{}_{s'}\end{aligned} \] where $\A(T)$ (resp. $\A(S)$) acts on the right (resp. left) by gluing collars, e.g., if $f\in \A(X;\overline{s},t)$ and $e\in \A(T)^{t}{}_{t'}$, then\[f\mathbin{\triangleleft}e\coloneqq f\bullet_{t}e\in \A(X;\overline{s},t'),\]and similarly for the left $\A(S)$-action. Note that $A_{Y\times I}$ is the identity $\A(Y)$-$\A(Y)$-bimodule.</p>

<div class="env-box theorem">
<p><strong>Theorem ({{\cite[Thm. 4.4.4/9).</strong> {W06}}}] (Here we omit boundary conditions on $Y$ for ease of notation.) Suppose $X\in\M_n$ with $\partial X=\overline{Y}\amalg Y\amalg Q$ and $X$ (resp. $Q$) glued along $\overline{Y}$ and $Y$ (resp. $\partial \overline{Y}=\overline{\partial Y}$ and $\partial Y$) to get $X_{\mathrm{gl}}$ (resp. $Q_{\mathrm{gl}}$) with $\partial X_{\mathrm{gl}}=Q_{\mathrm{gl}}$. Then $A_X$ is the relative tensor product with the $\A(Y)$-$\A(Y)$-bimodule $A_X$ over $\A(Y)$, i.e., \[ \A(X_{\mathrm{gl}},c_{\mathrm{gl}})=(A_X)^{y}{}_{y,c}= \int^{y \in \cC(Y)} \A(X, \overline{y},y,c)\cong {\left(\bigoplus_{r\in\F(S)}\A(S;\bar r\amalg r\amalg c)\right)}\bigg/L \] where $L$ is the vector subspace generated by fields of the form $v\ract e-e\lact v$ for some $v\in \A(S; x, y, c)$ and $e\in \A(S;c)(x\to y)$.</p>
</div>

<div class="env-box corollary">
<p><strong>Corollary ({{\cite[Cor. 4.4.4; notation adapted).</strong> {W06}}}]<a id="codim-1-gluing-theorem" class="latex-label"></a> Suppose $X\in\cM_{n}$ has boundary decomposition $\bd X\cong \bar S\amalg S\amalg W$ for some closed $W,S\in\cM_{n-1}$. (See <a href="#fig-gluing-without-corners" class="latex-ref">fig:gluing-without-corners</a>). Then for any $c\in\F(W)$, $\A(X_{\glu};c)$ is the coend of the $\A(S)^\op\tms \A(S)$-action on $\set{\A(S;\bar{x},x,c)}_{x\in\F(Y)}$. In particular, \[ \A(S;\bar x, x, c)\cong {\left(\bigoplus_{r\in\F(S)}\A(S;\bar r\amalg r\amalg c)\right)}\bigg/L \] where $L$ is the vector subspace generated by fields of the form $v\ract e-e\lact v$ for some $v\in \A(S; x, y, c)$ and $e\in \A(S;c)(x\to y)$.</p>
</div>

<div class="env-box example">
<p><strong>Example (Gluing disks to get spheres).</strong> <a id="gluing-disks-to-spheres" class="latex-label"></a> By <a href="#codim-1-gluing-theorem" class="latex-ref">codim-1 gluing theorem</a>, gluing $\orev{D^n}\amalg D^n\to S^n$ along $\bd D^n\cong S^{n-1}$ (see <a href="#fig-colongluing-disks-to-sphere" class="latex-ref">fig\colongluing-disks-to-sphere</a>) induces a surjective linear map \begin{figure}</p>

<p>\[</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\begin{tikzpicture}[scale=2,thick,boundary/.style={red,very thick},scale=0.5]

\def\ysep{0.45}
\def\xlabel{0}
\def\ylabel{0.625}
\def\rotatebd{.3}
\def\arlen{0.5}
\def\yhoriz{-1.6}

\begin{scope}[shift={(0,-\ysep)}]
\draw[inner color=black!15] (1,0) arc(0:-180:1);
\draw[boundary,bottom color=black!1] (0,0) ellipse (1 and \rotatebd);
\node at (\xlabel,-\ylabel) {$\orev{D^n}$};
\end{scope}

\begin{scope}[shift={(0,\ysep)},yscale=-1]
\draw[inner color=black!15] (1,0) arc(0:-180:1);
\draw[boundary,bottom color=black!1] (0,0) ellipse (1 and \rotatebd);
\node at (\xlabel,-\ylabel) {$D^n$};
\end{scope}

\node (c) at (1.25,0) {$c$};
\draw[-{Stealth},shorten <=1mm,shorten >=1mm](c) to[out=90,in=-30,looseness=1.25] ++(-.7,.15+2*\ysep);
\draw[-{Stealth},shorten <=1mm,shorten >=1mm](c) to[out=-90,in=30,looseness=1.25] ++(-.7,-.15+-2*\ysep);


\node[boundary] (Y1) at (\yhoriz,1.1*\ysep){$S^{n-1}$};
\node[boundary] (Y2) at (\yhoriz,-1.1*\ysep) {$\orev{S^{n-1}}$};

\end{tikzpicture}</script>
<p>\quad\quad\overset{\displaystyle\glu}{\longrightarrow}\quad\quad</p>
<script type="text/tikz">

%% ============================================================================
%% TZ.STY - TIKZ EXTENSIONS FOR STRING DIAGRAMS AND MATHEMATICS
%% Based on user's custom TikZ macros
%% ============================================================================
%% ----------------------------------------------------------------------------
%% INLINE MACRO
%% ----------------------------------------------------------------------------
%% Environment: Standard wrap
%% ----------------------------------------------------------------------------
%% TIKZ LIBRARIES
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% LAYER CONFIGURATION FOR STRING DIAGRAMS
%% ----------------------------------------------------------------------------
%% ----------------------------------------------------------------------------
%% PATTERN DEFINITIONS
%% ----------------------------------------------------------------------------
%% Region styles
\tikzset{
  primedregion/.style={preaction={fill=#1}, pattern=primeddots, draw=#1},
  primedregion2/.style={preaction={fill=#1}, pattern=primeddots2, draw=#1},
  boxregion/.style={preaction={fill=#1}, pattern=primedbox, draw=#1},
  plusregion/.style={preaction={fill=#1}, pattern=primedplus, draw=#1},
  starregion/.style={preaction={fill=#1}, pattern=primedstar, draw=#1},
  diagregion/.style={preaction={fill=#1}, pattern=diaglines, draw=#1},
  hlineregion/.style={preaction={fill=#1}, pattern=hlines, draw=#1},
}
%% ----------------------------------------------------------------------------
%% POSITIONING
%% ----------------------------------------------------------------------------
\newcommand{\coord}[1]{coordinate #1}
\newcommand{\relpos}[3]{([shift={(#2:#3)}]#1)}
\tikzset{%
  up/.style={yshift=#1},
  down/.style={yshift=-#1},
  left/.style={xshift=-#1},
  right/.style={xshift=#1},
}
%% ----------------------------------------------------------------------------
%% COLOR SCHEME
%% ----------------------------------------------------------------------------
\colorlet{gr0}{white}
\colorlet{gr1}{gray!20}
\colorlet{gr2}{gray!40}
\colorlet{gr3}{gray!60}
\colorlet{gr4}{gray!80}
\colorlet{colA}{red!75}
\colorlet{colB}{blue!75}
\colorlet{colC}{green!95}
\colorlet{colD}{orange!75}
\colorlet{colE}{orange!75}
\colorlet{strA}{red!80!black}
\colorlet{strB}{blue!80!black}
\colorlet{strC}{green!60!black}
\colorlet{strD}{orange!80!black}
\colorlet{strM}{black}
%% ----------------------------------------------------------------------------
%% PATH STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  s/.style={out=90,in=-90},
  -s/.style={out=-90,in=90},
  % cupto/.style={out=90,in=90,looseness=1.5},
  % capto/.style={out=-90,in=-90,looseness=1.5},
}
%% Knot styles
\tikzset{
  knot/.style={preaction={draw=white, solid, line width=#1}},
  knot/.default=\dimexpr2\pgflinewidth+2pt\relax,
  over/.style={double, draw=white, line width=3pt, double=},
  crossing gap/.style={preaction={draw=white, line width=#1}},
  crossing gap/.default=4pt,
}
%% Decorative paths
\tikzset{
  snake/.style={decorate, decoration={snake, segment length=1mm, amplitude=.3mm}},
  saw/.style={decorate, decoration={saw, segment length=.7mm, amplitude=.25mm}},
  squiggly/.style={decorate, decoration={snake, segment length=2mm, amplitude=.5mm}},
  zigzag/.style={decorate, decoration={zigzag, segment length=1.5mm, amplitude=.4mm}},
  coil/.style={decorate, decoration={coil, segment length=2mm, amplitude=.5mm}},
  bumps/.style={decorate, decoration={bumps, segment length=2mm}},
}
%% Arrow styles
\tikzset{
  arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{>}}},
    postaction={decorate}
  },
  arrow at/.default=0.5,
  rev arrow at/.style={
    decoration={markings, mark=at position #1 with {\arrow{<}}},
    postaction={decorate}
  },
  rev arrow at/.default=0.5,
  mid>/.style={arrow at=#1},
  mid</.style={rev arrow at=#1},
  mid>/.default=0.55,
  mid</.default=0.55,
}
%% Multi-line styles
\tikzset{
  tripleline/.style args={[#1] in [#2] in [#3]}{
    #1,
    preaction={preaction={draw,#3}, draw,#2}
  },
  quadrupleline/.style args={[#1] in [#2] in [#3] in [#4]}{
    #1,
    preaction={preaction={preaction={draw,#4}, draw,#3}, draw,#2}
  },
  double strand/.style={double, double distance=#1},
  double strand/.default=2pt,
}
%% Category theory arrows
\tikzset{
  Rightarrow/.style={double equal sign distance, >={Implies}, ->},
  Leftarrow/.style={double equal sign distance, >={Implies}, <-},
  Leftrightarrow/.style={double equal sign distance, >={Implies}, <->},
  triplecd/.style={-, preaction={draw, Rightarrow}},
  quadruplecd/.style={
    preaction={draw, Rightarrow, shorten >=0pt},
    shorten >=1pt, -, double, double distance=0.2pt
  }
}
%% ----------------------------------------------------------------------------
%% NODE STYLES
%% ----------------------------------------------------------------------------
%% Size parameters
\newcommand{\mkrad}{0.05cm}
\newcommand{\obrad}{0.1cm}
\tikzset{
  vertex/.style={
    shape=circle,
    draw,
    fill=black,
    inner sep=0pt,
    minimum size=3pt
  },
  object/.style={
    circle,
    draw,
    thick,
    fill=white,
    inner sep=0pt,
    minimum size=2*\obrad
  },
  coupon/.style={
    draw=black,
    fill=white,
    rounded corners=5pt,
    very thick,
    inner sep=3pt,
    minimum size=2.1*height("Hg"),
    on layer=top,
  },
  bullet/.style={
    circle,
    fill=#1,
    draw=#1,
    inner sep=0pt,
    minimum size=2*\mkrad
  },
  bullet/.default=black,
}
%% Coupon macro
%% ----------------------------------------------------------------------------
%% DRAWING MACROS
%% ----------------------------------------------------------------------------
%% Legacy aliases
%% Strand macros
\newcommand{\vstrand}[2]{%
  \draw[thick] (#1) -- ++(0,#2);%
  \fill (#1) circle (1.5pt);%
  \fill ([yshift=#2]#1) circle (1.5pt);%
}
\newcommand{\hstrand}[2]{%
  \draw[thick] (#1) -- ++(#2,0);%
  \fill (#1) circle (1.5pt);%
  \fill ([xshift=#2]#1) circle (1.5pt);%
}
%% Region box
\newcommand{\regionbox}[3][black]{%
  \draw[dashed, rounded corners=5pt, draw=#1] #2 rectangle #3;%
}
\newcommand{\rregionbox}[2]{\regionbox[red]{#1}{#2}}
\newcommand{\bregionbox}[2]{\regionbox[blue]{#1}{#2}}
\newcommand{\oregionbox}[2]{\regionbox[orange]{#1}{#2}}
\newcommand{\gregionbox}[2]{\regionbox[green!60!black]{#1}{#2}}
%% Bubble/circle
\newcommand{\bubble}[3][]{\draw[#1] #2 circle (#3);}
%% Arc macros
\newcommand{\capto}[1]{arc(180:0:#1)}
\newcommand{\cupto}[1]{arc(-180:0:#1)}
\newcommand{\capfrom}[1]{arc(0:180:#1)}
\newcommand{\cupfrom}[1]{arc(0:-180:#1)}
%% ----------------------------------------------------------------------------
%% UTILITY STYLES
%% ----------------------------------------------------------------------------
\tikzset{
  horizontal gradient/.style 2 args={left color=#1, right color=#2},
  vertical gradient/.style 2 args={top color=#1, bottom color=#2},
  super thick/.style={line width=3pt},
  ultra super thick/.style={line width=4pt},
  hair/.style={line width=0.1pt},
  strand/.style={thick},
  boundary/.style={very thick},
  sep/.style={inner sep=#1, outer sep=#1},
  tight/.style={inner sep=0pt, outer sep=0pt},
  boxed/.style={
    execute at end picture={
      \begin{pgfonlayer}{bottom}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          draw=none,
        ]{};
      \end{pgfonlayer}
      \begin{pgfonlayer}{top}
        \node[
          minimum size=0pt,
          inner ysep=0,
          outer sep=0pt,
          rounded corners,
          fit=(current bounding box),
          inner xsep=5pt,
          #1,
          fill=none
        ]{};
      \end{pgfonlayer}
    }
  },
  boxed/.default = {draw=black, very thick},
  invclip/.style={
    clip,
    overlay,
    insert path={[reset cm] (-100cm,-100cm) rectangle (100cm,100cm)}
  },
  xy/.style={canvas is xy plane at z=#1},
  yx/.style={canvas is yx plane at z=#1},
  yz/.style={canvas is yz plane at x=#1},
  zy/.style={canvas is zy plane at x=#1},
  zx/.style={canvas is zx plane at y=#1},
  xz/.style={canvas is xz plane at y=#1},
  frameR/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=-1.5pt}},
    thick, #1
  },
  frameL/.style={
    preaction={draw=#1, super thick, opacity=.2, decorate, decoration={curveto, amplitude=0, raise=1.5pt}},
    thick, #1
  }
}
\newcommand{\invclip}{\path[invclip]}
%% Last coordinate access
%% ----------------------------------------------------------------------------
%% EXTENDED ANCHORS FOR RECTANGLE NODES
%% ----------------------------------------------------------------------------

\usetikzlibrary{arrows.meta,calc,decorations.markings,shapes.geometric,patterns}

\tikzset{
  on layer/.code={}
}


\pgfdeclarepatternformonly{primeddots}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primeddots2}{\pgfqpoint{-.3pt}{-.3pt}}{\pgfqpoint{.3pt}{.3pt}}{\pgfqpoint{2.5pt}{2.5pt}}%
{
  \pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.35pt}
  \pgfusepath{fill}
}
\pgfdeclarepatternformonly{primedbox}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgfpathrectangle{\pgfqpoint{-.9pt}{-.9pt}}{\pgfqpoint{1.8pt}{1.8pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedplus}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{.9pt}{.9pt}}
  \pgfpathmoveto{\pgfqpoint{.9pt}{-.9pt}}
  \pgfpathlineto{\pgfqpoint{-.9pt}{.9pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{primedstar}{\pgfqpoint{-1.2pt}{-1.2pt}}{\pgfqpoint{1.2pt}{1.2pt}}{\pgfqpoint{5pt}{5pt}}%
{
  \pgftransformrotate{30}
  \pgfpathmoveto{\pgfqpoint{-1.2pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1.2pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{-1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{1.04pt}}
  \pgfpathmoveto{\pgfqpoint{-.6pt}{1.04pt}}
  \pgfpathlineto{\pgfqpoint{.6pt}{-1.04pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{diaglines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{1pt}{1pt}}{\pgfqpoint{4pt}{4pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{-1pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{1pt}}
  \pgfusepath{stroke}
}
\pgfdeclarepatternformonly{hlines}{\pgfqpoint{-1pt}{-.5pt}}{\pgfqpoint{1pt}{.5pt}}{\pgfqpoint{4pt}{3pt}}%
{
  \pgfpathmoveto{\pgfqpoint{-1pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{1pt}{0pt}}
  \pgfusepath{stroke}
}


% Simplified \drawmark[color]{coord}[label][pos]
\newcommand{\drawmark}[2][black]{\fill[#1] (#2) circle (\mkrad);}
\newcommand{\drawobject}[2][black]{\draw[thick, fill=#1] (#2) circle (\obrad);}
\newcommand{\mk}[1]{\drawmark{#1}}
\newcommand{\ob}[1]{\drawobject[black]{#1}}
\newcommand{\wob}[1]{\drawobject[white]{#1}}
\newcommand{\umark}[1]{\draw (#1) circle (\mkrad);}
\newcommand{\labmark}[3]{\drawmark{#1}[#2]{#3}}
\newcommand{\labob}[3]{\drawobject[black]{#1}[#2]{#3}}
\newcommand{\blt}[2][]{\node[circle, fill, inner sep=0pt, minimum size=0.1cm, #1] at #2 {};}
\newcommand{\cpn}[3][]{\node[draw, thick, fill=white, rounded corners=3pt, #1] at #2 {#3};}


\newcommand{\wref}[2][]{#2}

\begin{tikzpicture}[scale=2,thick,boundary/.style={red,very thick},scale=0.5]

\def\ysep{0}
\def\xlabel{0}
\def\ylabel{0.625}
\def\rotatebd{.25}
\def\arlen{0.5}
\def\yhoriz{-1.6}

\begin{scope}[shift={(0,-\ysep)}]
\draw[inner color=black!15] (0,0) circle (1);
\end{scope}

\begin{scope}[shift={(0,\ysep)},yscale=-1]
\draw (1,0) arc(0:-180:1);
\draw[dashed] (0,0) ellipse (1 and \rotatebd);
\node at (\xlabel,-\ylabel) {$S^n$};
\end{scope}

\node (c) at (1.5,1) {$c_{\glu}$};
\draw[-{Stealth}](c) to[out=180,in=30,looseness=1.25] (.45,.35);

\end{tikzpicture}</script>
<p>\] \caption{Gluing two disks along their boundaries to get a sphere. <span style="color: #7f00ff;">[[edit this to show how unglued c’s boundaries are compatible? maybe w collar e too...]]</span>} <a id="fig-gluing-disks-to-sphere" class="latex-label"></a> \end{figure} \[ \bigoplus_{r\in\F(S^{n-1})}\A(\orev{D^n}\amalg D^n; \fcj r\amalg r)\cong \A(D^n; r)\tsr_{\bbC} \A(D^n; r)\lsjto \A(S^n) \]</p>

<p>whose kernel is the subspace generated by the elements of the form $v\ract e-e\lact v$ for some $v\in \A(\orev{D^n}\amalg D^n, \fcj y\amalg z)$ and $e\in \A(S^{n-1}\tms D^1; \fcj y\amalg z)$ where $y,z\in\F(S^{n-1})$. Under the isomorphism $\A(\orev{D^n}\amalg D^n; \fcj{r}\amalg r)\cong \bar{\A(D^n; r)}\tsr_{\bbC} \A(D^n; r)$, any such $v$ takes the form $v=\sum_{i} \fcj{p_i}\tsr q_i$ for some $p_i\in \A(D^n;y)$ and $q_i\in \A(D^n;z)$. Thus, since the left and right $\A(S^{n-1})$-actions on $\A(D^n)$ are linear and compatible with $\tsr_{\bbC}$, \begin{align*} v\ract e&=\left(\sum_i \fcj{p_i}\tsr q_i\right)\ract e=\sum_i(\fcj{p_i}\tsr q_i)\ract e=\sum_i\fcj{p_i}\tsr (e\bullet_z q_i), \\ e\lact v&=e\lact\left(\sum_i p_i\tsr q_i\right)=\sum_i e\lact( p_i\tsr q_i)=\sum_i(p_i\bullet_y e)\tsr q_i. \end{align*} Thus \[ L = \bbC\left[\set{ p\tsr ( e\bullet_z q)-( p\bullet_y e)\tsr q }{\substack{ y,\, z\,\in\, \F(S^{n-1}), \ p\,\in\, \A(D^n;y), \\ q\,\in\, \A(D^n;z), \ e\,\in\, \A(S^{n-1})(y\to z)}}\right]. \] Therefore, if $c=c'$ in $\A(S^n)$, then in $\bigoplus_{r\in\F(S^{n-1})}\A(D^n;r)\tsr_\bbC\A(D^n;r)$ we have $c=c'+\xi$ for some finite linear combination \[ \xi=\sum_i \big(p_{i}\tsr ( e_i\bullet_{z_i} q_{i})-( p_{i}\bullet_{y_i} e_i)\tsr q_{i}\big) \] where $y_i,z_i\in \F(S^{n-1})$, $p_i\in \A(D^n;y_i)$, $q_i\in \A(D^n;z_i)$, and $e_i\in \A(S^{n-1})(y\to z)$.</p>
</div>


<div class="see-also"><strong>See also:</strong> <a href="local relations for a system of topological fields.html">local relations for a system of topological fields</a>, <a href="unitary TQFTs introduction.html">Unitary Tqfts Introduction</a></div>
<div class="footnotes">
<p><hr></p>
<ol>
<li id="fn-auto-1">We will also demand this for $k=0$, which is just taking the boundary of 0-manifolds, which will always give the empty $(-1)$-manifold. <span style="color: #7f00ff;">[[put in/make rigorous]]</span> <a href="#fnref-auto-1">↩</a></li>
<li id="fn-auto-2">This restriction map uses the gluing-without-corners map above. <a href="#fnref-auto-2">↩</a></li>
<li id="fn-auto-3">E.g., for an open dense subset of such perturbations, or for all perturbations satisfying a transversality condition. <a href="#fnref-auto-3">↩</a></li>
</ol>
</div>
    </div>

    <div class="backlinks">
        <h2>Backlinks</h2>
        <ul>
            <li><a href="(n+epsilon)D TQFT.html">(n+epsilon)D TQFT</a></li>
            <li><a href="disk-like n-category.html">disk-like n-category</a></li>
            <li><a href="local relations for a system of topological fields.html">local relations for a system of topological fields</a></li>
        </ul>
    </div>
    </div>
</body>
</html>
